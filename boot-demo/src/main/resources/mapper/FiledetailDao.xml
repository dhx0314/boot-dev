<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.dhx.bootdemo.dao.FiledetailDao">

    <resultMap type="cn.dhx.bootdemo.entity.Filedetail" id="FiledetailMap">
        <result property="id" column="id" jdbcType="VARCHAR"/>
        <result property="ani" column="ani" jdbcType="VARCHAR"/>
        <result property="dnis" column="dnis" jdbcType="VARCHAR"/>
        <result property="callDirect" column="callDirect" jdbcType="VARCHAR"/>
        <result property="fileName" column="fileName" jdbcType="VARCHAR"/>
        <result property="agentFileName" column="agentFileName" jdbcType="VARCHAR"/>
        <result property="customFileName" column="customFileName" jdbcType="VARCHAR"/>
        <result property="deviceId" column="deviceId" jdbcType="VARCHAR"/>
        <result property="agentId" column="agentId" jdbcType="VARCHAR"/>
        <result property="startDateTime" column="startDateTime" jdbcType="TIMESTAMP"/>
        <result property="endDateTime" column="endDateTime" jdbcType="TIMESTAMP"/>
        <result property="callid" column="callid" jdbcType="VARCHAR"/>
        <result property="callLenth" column="callLenth" jdbcType="INTEGER"/>
        <result property="RecordType" column="RecordType" jdbcType="VARCHAR"/>
        <result property="fileEncodingFmt" column="fileEncodingFmt" jdbcType="VARCHAR"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryById" resultMap="FiledetailMap">
        select
          id, ani, dnis, callDirect, fileName, agentFileName, customFileName, deviceId, agentId, startDateTime, endDateTime, callid, callLenth, RecordType, fileEncodingFmt
        from filedetail
        where id = #{id}
    </select>

    <select id="queryAll" resultMap="FiledetailMap">
        select
            id, ani, dnis, callDirect, fileName, agentFileName, customFileName, deviceId, agentId, startDateTime, endDateTime, callid, callLenth, RecordType, fileEncodingFmt
        from filedetail
        order by startDateTime asc
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="FiledetailMap">
        select
          id, ani, dnis, callDirect, fileName, agentFileName, customFileName, deviceId, agentId, startDateTime, endDateTime, callid, callLenth, RecordType, fileEncodingFmt
        from filedetail
        <where>
            <if test="id != null and id != ''">
                and id = #{id}
            </if>
            <if test="ani != null and ani != ''">
                and ani = #{ani}
            </if>
            <if test="dnis != null and dnis != ''">
                and dnis = #{dnis}
            </if>
            <if test="callDirect != null and callDirect != ''">
                and callDirect = #{callDirect}
            </if>
            <if test="fileName != null and fileName != ''">
                and fileName = #{fileName}
            </if>
            <if test="agentFileName != null and agentFileName != ''">
                and agentFileName = #{agentFileName}
            </if>
            <if test="customFileName != null and customFileName != ''">
                and customFileName = #{customFileName}
            </if>
            <if test="deviceId != null and deviceId != ''">
                and deviceId = #{deviceId}
            </if>
            <if test="agentId != null and agentId != ''">
                and agentId = #{agentId}
            </if>
            <if test="startDateTime != null">
                and startDateTime = #{startDateTime}
            </if>
            <if test="endDateTime != null">
                and endDateTime = #{endDateTime}
            </if>
            <if test="callid != null and callid != ''">
                and callid = #{callid}
            </if>
            <if test="callLenth != null">
                and callLenth = #{callLenth}
            </if>
            <if test="RecordType != null and RecordType != ''">
                and RecordType = #{RecordType}
            </if>
            <if test="fileEncodingFmt != null and fileEncodingFmt != ''">
                and fileEncodingFmt = #{fileEncodingFmt}
            </if>
        </where>
        limit #{pageable.offset}, #{pageable.pageSize}
    </select>

    <!--统计总行数-->
    <select id="count" resultType="java.lang.Long">
        select count(1)
        from filedetail
        <where>
            <if test="id != null and id != ''">
                and id = #{id}
            </if>
            <if test="ani != null and ani != ''">
                and ani = #{ani}
            </if>
            <if test="dnis != null and dnis != ''">
                and dnis = #{dnis}
            </if>
            <if test="callDirect != null and callDirect != ''">
                and callDirect = #{callDirect}
            </if>
            <if test="fileName != null and fileName != ''">
                and fileName = #{fileName}
            </if>
            <if test="agentFileName != null and agentFileName != ''">
                and agentFileName = #{agentFileName}
            </if>
            <if test="customFileName != null and customFileName != ''">
                and customFileName = #{customFileName}
            </if>
            <if test="deviceId != null and deviceId != ''">
                and deviceId = #{deviceId}
            </if>
            <if test="agentId != null and agentId != ''">
                and agentId = #{agentId}
            </if>
            <if test="startDateTime != null">
                and startDateTime = #{startDateTime}
            </if>
            <if test="endDateTime != null">
                and endDateTime = #{endDateTime}
            </if>
            <if test="callid != null and callid != ''">
                and callid = #{callid}
            </if>
            <if test="callLenth != null">
                and callLenth = #{callLenth}
            </if>
            <if test="RecordType != null and RecordType != ''">
                and RecordType = #{RecordType}
            </if>
            <if test="fileEncodingFmt != null and fileEncodingFmt != ''">
                and fileEncodingFmt = #{fileEncodingFmt}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="id" useGeneratedKeys="true">
        insert into filedetail(ani, dnis, callDirect, fileName, agentFileName, customFileName, deviceId, agentId, startDateTime, endDateTime, callid, callLenth, RecordType, fileEncodingFmt)
        values (#{ani}, #{dnis}, #{callDirect}, #{fileName}, #{agentFileName}, #{customFileName}, #{deviceId}, #{agentId}, #{startDateTime}, #{endDateTime}, #{callid}, #{callLenth}, #{RecordType}, #{fileEncodingFmt})
    </insert>

    <insert id="insertBatch" keyProperty="id" useGeneratedKeys="true">
        insert into filedetail(ani, dnis, callDirect, fileName, agentFileName, customFileName, deviceId, agentId, startDateTime, endDateTime, callid, callLenth, RecordType, fileEncodingFmt)
        values
        <foreach collection="entities" item="entity" separator=",">
        (#{entity.ani}, #{entity.dnis}, #{entity.callDirect}, #{entity.fileName}, #{entity.agentFileName}, #{entity.customFileName}, #{entity.deviceId}, #{entity.agentId}, #{entity.startDateTime}, #{entity.endDateTime}, #{entity.callid}, #{entity.callLenth}, #{entity.RecordType}, #{entity.fileEncodingFmt})
        </foreach>
    </insert>

    <insert id="insertOrUpdateBatch" keyProperty="id" useGeneratedKeys="true">
        insert into filedetail(ani, dnis, callDirect, fileName, agentFileName, customFileName, deviceId, agentId, startDateTime, endDateTime, callid, callLenth, RecordType, fileEncodingFmt)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{entity.ani}, #{entity.dnis}, #{entity.callDirect}, #{entity.fileName}, #{entity.agentFileName}, #{entity.customFileName}, #{entity.deviceId}, #{entity.agentId}, #{entity.startDateTime}, #{entity.endDateTime}, #{entity.callid}, #{entity.callLenth}, #{entity.RecordType}, #{entity.fileEncodingFmt})
        </foreach>
        on duplicate key update
        ani = values(ani),
        dnis = values(dnis),
        callDirect = values(callDirect),
        fileName = values(fileName),
        agentFileName = values(agentFileName),
        customFileName = values(customFileName),
        deviceId = values(deviceId),
        agentId = values(agentId),
        startDateTime = values(startDateTime),
        endDateTime = values(endDateTime),
        callid = values(callid),
        callLenth = values(callLenth),
        RecordType = values(RecordType),
        fileEncodingFmt = values(fileEncodingFmt)
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update filedetail
        <set>
            <if test="ani != null and ani != ''">
                ani = #{ani},
            </if>
            <if test="dnis != null and dnis != ''">
                dnis = #{dnis},
            </if>
            <if test="callDirect != null and callDirect != ''">
                callDirect = #{callDirect},
            </if>
            <if test="fileName != null and fileName != ''">
                fileName = #{fileName},
            </if>
            <if test="agentFileName != null and agentFileName != ''">
                agentFileName = #{agentFileName},
            </if>
            <if test="customFileName != null and customFileName != ''">
                customFileName = #{customFileName},
            </if>
            <if test="deviceId != null and deviceId != ''">
                deviceId = #{deviceId},
            </if>
            <if test="agentId != null and agentId != ''">
                agentId = #{agentId},
            </if>
            <if test="startDateTime != null">
                startDateTime = #{startDateTime},
            </if>
            <if test="endDateTime != null">
                endDateTime = #{endDateTime},
            </if>
            <if test="callid != null and callid != ''">
                callid = #{callid},
            </if>
            <if test="callLenth != null">
                callLenth = #{callLenth},
            </if>
            <if test="RecordType != null and RecordType != ''">
                RecordType = #{RecordType},
            </if>
            <if test="fileEncodingFmt != null and fileEncodingFmt != ''">
                fileEncodingFmt = #{fileEncodingFmt},
            </if>
        </set>
        where id = #{id}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from filedetail where id = #{id}
    </delete>

</mapper>

