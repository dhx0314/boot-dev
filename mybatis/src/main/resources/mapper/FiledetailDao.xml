<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wilcom.recordinngpush.dao.FiledetailDao">

    <resultMap type="com.wilcom.recordinngpush.entity.Filedetail" id="FiledetailMap">
        <result property="id" column="id" jdbcType="VARCHAR"/>
        <result property="ani" column="ani" jdbcType="VARCHAR"/>
        <result property="dnis" column="dnis" jdbcType="VARCHAR"/>
        <result property="callDirect" column="callDirect" jdbcType="VARCHAR"/>
        <result property="fileId" column="fileId" jdbcType="VARCHAR"/>
        <result property="fileName" column="fileName" jdbcType="VARCHAR"/>
        <result property="agentFileName" column="agentFileName" jdbcType="VARCHAR"/>
        <result property="customFileName" column="customFileName" jdbcType="VARCHAR"/>
        <result property="fileInfo" column="fileInfo" jdbcType="VARCHAR"/>
        <result property="deviceId" column="deviceId" jdbcType="VARCHAR"/>
        <result property="agentId" column="agentId" jdbcType="VARCHAR"/>
        <result property="startDateTime" column="startDateTime" jdbcType="TIMESTAMP"/>
        <result property="endDateTime" column="endDateTime" jdbcType="TIMESTAMP"/>
        <result property="callid" column="callid" jdbcType="VARCHAR"/>
        <result property="contactId" column="contactId" jdbcType="VARCHAR"/>
        <result property="callLenth" column="callLenth" jdbcType="INTEGER"/>
        <result property="RecordType" column="RecordType" jdbcType="VARCHAR"/>
        <result property="serverName" column="serverName" jdbcType="VARCHAR"/>
        <result property="fileEncodingFmt" column="fileEncodingFmt" jdbcType="VARCHAR"/>
        <result property="separableFileEncodingFmt" column="separableFileEncodingFmt" jdbcType="VARCHAR"/>
        <result property="insertTime" column="insertTime" jdbcType="TIMESTAMP"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryById" resultMap="FiledetailMap">
        select
          id, ani, dnis, callDirect, fileId, fileName, agentFileName, customFileName, fileInfo, deviceId, agentId, startDateTime, endDateTime, callid, contactId, callLenth, RecordType, serverName, fileEncodingFmt, separableFileEncodingFmt, insertTime
        from filedetail
        where id = #{id}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="FiledetailMap">
        select
          id, ani, dnis, callDirect, fileId, fileName, agentFileName, customFileName, fileInfo, deviceId, agentId, startDateTime, endDateTime, callid, contactId, callLenth, RecordType, serverName, fileEncodingFmt, separableFileEncodingFmt, insertTime
        from filedetail
        <where>
            <if test="id != null and id != ''">
                and id = #{id}
            </if>
            <if test="ani != null and ani != ''">
                and ani = #{ani}
            </if>
            <if test="dnis != null and dnis != ''">
                and dnis = #{dnis}
            </if>
            <if test="calldirect != null and calldirect != ''">
                and callDirect = #{calldirect}
            </if>
            <if test="fileid != null and fileid != ''">
                and fileId = #{fileid}
            </if>
            <if test="filename != null and filename != ''">
                and fileName = #{filename}
            </if>
            <if test="agentfilename != null and agentfilename != ''">
                and agentFileName = #{agentfilename}
            </if>
            <if test="customfilename != null and customfilename != ''">
                and customFileName = #{customfilename}
            </if>
            <if test="fileinfo != null and fileinfo != ''">
                and fileInfo = #{fileinfo}
            </if>
            <if test="deviceid != null and deviceid != ''">
                and deviceId = #{deviceid}
            </if>
            <if test="agentid != null and agentid != ''">
                and agentId = #{agentid}
            </if>
            <if test="startdatetime != null">
                and startDateTime = #{startdatetime}
            </if>
            <if test="enddatetime != null">
                and endDateTime = #{enddatetime}
            </if>
            <if test="callid != null and callid != ''">
                and callid = #{callid}
            </if>
            <if test="contactid != null and contactid != ''">
                and contactId = #{contactid}
            </if>
            <if test="calllenth != null">
                and callLenth = #{calllenth}
            </if>
            <if test="recordtype != null and recordtype != ''">
                and RecordType = #{recordtype}
            </if>
            <if test="servername != null and servername != ''">
                and serverName = #{servername}
            </if>
            <if test="fileencodingfmt != null and fileencodingfmt != ''">
                and fileEncodingFmt = #{fileencodingfmt}
            </if>
            <if test="separablefileencodingfmt != null and separablefileencodingfmt != ''">
                and separableFileEncodingFmt = #{separablefileencodingfmt}
            </if>
            <if test="inserttime != null">
                and insertTime = #{inserttime}
            </if>
        </where>
        limit #{pageable.offset}, #{pageable.pageSize}
    </select>

    <!--统计总行数-->
    <select id="count" resultType="java.lang.Long">
        select count(1)
        from filedetail
        <where>
            <if test="id != null and id != ''">
                and id = #{id}
            </if>
            <if test="ani != null and ani != ''">
                and ani = #{ani}
            </if>
            <if test="dnis != null and dnis != ''">
                and dnis = #{dnis}
            </if>
            <if test="calldirect != null and calldirect != ''">
                and callDirect = #{calldirect}
            </if>
            <if test="fileid != null and fileid != ''">
                and fileId = #{fileid}
            </if>
            <if test="filename != null and filename != ''">
                and fileName = #{filename}
            </if>
            <if test="agentfilename != null and agentfilename != ''">
                and agentFileName = #{agentfilename}
            </if>
            <if test="customfilename != null and customfilename != ''">
                and customFileName = #{customfilename}
            </if>
            <if test="fileinfo != null and fileinfo != ''">
                and fileInfo = #{fileinfo}
            </if>
            <if test="deviceid != null and deviceid != ''">
                and deviceId = #{deviceid}
            </if>
            <if test="agentid != null and agentid != ''">
                and agentId = #{agentid}
            </if>
            <if test="startdatetime != null">
                and startDateTime = #{startdatetime}
            </if>
            <if test="enddatetime != null">
                and endDateTime = #{enddatetime}
            </if>
            <if test="callid != null and callid != ''">
                and callid = #{callid}
            </if>
            <if test="contactid != null and contactid != ''">
                and contactId = #{contactid}
            </if>
            <if test="calllenth != null">
                and callLenth = #{calllenth}
            </if>
            <if test="recordtype != null and recordtype != ''">
                and RecordType = #{recordtype}
            </if>
            <if test="servername != null and servername != ''">
                and serverName = #{servername}
            </if>
            <if test="fileencodingfmt != null and fileencodingfmt != ''">
                and fileEncodingFmt = #{fileencodingfmt}
            </if>
            <if test="separablefileencodingfmt != null and separablefileencodingfmt != ''">
                and separableFileEncodingFmt = #{separablefileencodingfmt}
            </if>
            <if test="inserttime != null">
                and insertTime = #{inserttime}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="id" useGeneratedKeys="true">
        insert into filedetail(ani, dnis, callDirect, fileId, fileName, agentFileName, customFileName, fileInfo, deviceId, agentId, startDateTime, endDateTime, callid, contactId, callLenth, RecordType, serverName, fileEncodingFmt, separableFileEncodingFmt, insertTime)
        values (#{ani}, #{dnis}, #{calldirect}, #{fileid}, #{filename}, #{agentfilename}, #{customfilename}, #{fileinfo}, #{deviceid}, #{agentid}, #{startdatetime}, #{enddatetime}, #{callid}, #{contactid}, #{calllenth}, #{recordtype}, #{servername}, #{fileencodingfmt}, #{separablefileencodingfmt}, #{inserttime})
    </insert>

    <insert id="insertBatch" keyProperty="id" useGeneratedKeys="true">
        insert into filedetail(ani, dnis, callDirect, fileId, fileName, agentFileName, customFileName, fileInfo, deviceId, agentId, startDateTime, endDateTime, callid, contactId, callLenth, RecordType, serverName, fileEncodingFmt, separableFileEncodingFmt, insertTime)
        values
        <foreach collection="entities" item="entity" separator=",">
        (#{entity.ani}, #{entity.dnis}, #{entity.calldirect}, #{entity.fileid}, #{entity.filename}, #{entity.agentfilename}, #{entity.customfilename}, #{entity.fileinfo}, #{entity.deviceid}, #{entity.agentid}, #{entity.startdatetime}, #{entity.enddatetime}, #{entity.callid}, #{entity.contactid}, #{entity.calllenth}, #{entity.recordtype}, #{entity.servername}, #{entity.fileencodingfmt}, #{entity.separablefileencodingfmt}, #{entity.inserttime})
        </foreach>
    </insert>

    <insert id="insertOrUpdateBatch" keyProperty="id" useGeneratedKeys="true">
        insert into filedetail(ani, dnis, callDirect, fileId, fileName, agentFileName, customFileName, fileInfo, deviceId, agentId, startDateTime, endDateTime, callid, contactId, callLenth, RecordType, serverName, fileEncodingFmt, separableFileEncodingFmt, insertTime)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{entity.ani}, #{entity.dnis}, #{entity.calldirect}, #{entity.fileid}, #{entity.filename}, #{entity.agentfilename}, #{entity.customfilename}, #{entity.fileinfo}, #{entity.deviceid}, #{entity.agentid}, #{entity.startdatetime}, #{entity.enddatetime}, #{entity.callid}, #{entity.contactid}, #{entity.calllenth}, #{entity.recordtype}, #{entity.servername}, #{entity.fileencodingfmt}, #{entity.separablefileencodingfmt}, #{entity.inserttime})
        </foreach>
        on duplicate key update
        ani = values(ani),
        dnis = values(dnis),
        callDirect = values(callDirect),
        fileId = values(fileId),
        fileName = values(fileName),
        agentFileName = values(agentFileName),
        customFileName = values(customFileName),
        fileInfo = values(fileInfo),
        deviceId = values(deviceId),
        agentId = values(agentId),
        startDateTime = values(startDateTime),
        endDateTime = values(endDateTime),
        callid = values(callid),
        contactId = values(contactId),
        callLenth = values(callLenth),
        RecordType = values(RecordType),
        serverName = values(serverName),
        fileEncodingFmt = values(fileEncodingFmt),
        separableFileEncodingFmt = values(separableFileEncodingFmt),
        insertTime = values(insertTime)
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update filedetail
        <set>
            <if test="ani != null and ani != ''">
                ani = #{ani},
            </if>
            <if test="dnis != null and dnis != ''">
                dnis = #{dnis},
            </if>
            <if test="calldirect != null and calldirect != ''">
                callDirect = #{calldirect},
            </if>
            <if test="fileid != null and fileid != ''">
                fileId = #{fileid},
            </if>
            <if test="filename != null and filename != ''">
                fileName = #{filename},
            </if>
            <if test="agentfilename != null and agentfilename != ''">
                agentFileName = #{agentfilename},
            </if>
            <if test="customfilename != null and customfilename != ''">
                customFileName = #{customfilename},
            </if>
            <if test="fileinfo != null and fileinfo != ''">
                fileInfo = #{fileinfo},
            </if>
            <if test="deviceid != null and deviceid != ''">
                deviceId = #{deviceid},
            </if>
            <if test="agentid != null and agentid != ''">
                agentId = #{agentid},
            </if>
            <if test="startdatetime != null">
                startDateTime = #{startdatetime},
            </if>
            <if test="enddatetime != null">
                endDateTime = #{enddatetime},
            </if>
            <if test="callid != null and callid != ''">
                callid = #{callid},
            </if>
            <if test="contactid != null and contactid != ''">
                contactId = #{contactid},
            </if>
            <if test="calllenth != null">
                callLenth = #{calllenth},
            </if>
            <if test="recordtype != null and recordtype != ''">
                RecordType = #{recordtype},
            </if>
            <if test="servername != null and servername != ''">
                serverName = #{servername},
            </if>
            <if test="fileencodingfmt != null and fileencodingfmt != ''">
                fileEncodingFmt = #{fileencodingfmt},
            </if>
            <if test="separablefileencodingfmt != null and separablefileencodingfmt != ''">
                separableFileEncodingFmt = #{separablefileencodingfmt},
            </if>
            <if test="inserttime != null">
                insertTime = #{inserttime},
            </if>
        </set>
        where id = #{id}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from filedetail where id = #{id}
    </delete>

</mapper>

